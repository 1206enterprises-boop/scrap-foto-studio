<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Strip Studio</title>

<style>
body{
margin:0;
background:#000;
font-family:sans-serif;
color:white;
text-align:center;
}

.logo{
position:fixed;
top:15px;
left:50%;
transform:translateX(-50%);
width:160px;
z-index:1000;
}

.nav-btn{
position:fixed;
top:20px;
background:#111;
border:1px solid #333;
color:white;
padding:8px 14px;
border-radius:8px;
cursor:pointer;
}

.back{left:15px;}
.home{right:15px;}

.container{
margin-top:120px;
padding-bottom:40px;
}

video{
width:90%;
max-width:350px;
border-radius:20px;
border:4px solid #222;
background:black;
}

.strip-preview{
margin-top:20px;
width:220px;
height:660px;
background:white;
margin-left:auto;
margin-right:auto;
border-radius:20px;
padding:10px;
display:flex;
flex-direction:column;
gap:10px;
}

.strip-preview img{
width:100%;
height:200px;
object-fit:cover;
border-radius:10px;
}

.controls{
margin-top:20px;
}

button{
padding:10px 20px;
margin:5px;
border:none;
border-radius:10px;
background:#222;
color:white;
cursor:pointer;
}

.filter-btn.active{
background:white;
color:black;
}
</style>
</head>

<body>

<img src="../logo.png" class="logo">

<button class="nav-btn back" onclick="history.back()">Back</button>
<button class="nav-btn home" onclick="window.location.href='../index.html'">Home</button>

<div class="container">

<video id="video" autoplay playsinline></video>

<div class="controls">
<button onclick="takePhoto()">Take Photo</button>
<br>
<button class="filter-btn active" onclick="setFilter('none',this)">Color</button>
<button class="filter-btn" onclick="setFilter('grayscale(100%)',this)">B&W</button>
<button class="filter-btn" onclick="setFilter('sepia(80%)',this)">Vintage</button>
</div>

<div class="strip-preview" id="stripPreview"></div>

</div>

<script>
let video=document.getElementById("video");
let stripPreview=document.getElementById("stripPreview");
let currentFilter="none";

navigator.mediaDevices.getUserMedia({video:true})
.then(stream=>{
video.srcObject=stream;
})
.catch(err=>{
alert("Camera error: "+err);
});

function setFilter(filter,btn){
currentFilter=filter;
video.style.filter=filter;

document.querySelectorAll(".filter-btn").forEach(b=>b.classList.remove("active"));
btn.classList.add("active");
}

function takePhoto(){
if(stripPreview.children.length>=3){
alert("3 photos max for strip");
return;
}

let canvas=document.createElement("canvas");
canvas.width=video.videoWidth;
canvas.height=video.videoHeight;
let ctx=canvas.getContext("2d");

ctx.filter=currentFilter;
ctx.drawImage(video,0,0);

let img=document.createElement("img");
img.src=canvas.toDataURL("image/png");
stripPreview.appendChild(img);
}
</script>

</body>
</html>






